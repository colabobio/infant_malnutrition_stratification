---
title: "Feature selection"
author: "Justin Guerra, Arnav Gupta, Andres Colubri"
output: html_document
date: "2024-03-06"
---

```{r setup, include=FALSE}
library(here) 
```

```{r}
path <- "data/DHS-2019-21/"
dffile <- "cleaned.rda"
load(file = here(path, dffile))
dfc
```


```{r}
library("missForest")
imputed_data <- missForest(dfc)

# Extract imputed data
imputed_data <- imputed_data$ximp

# Perform PCA
pca_result <- prcomp(imputed_data, scale. = TRUE)

# Summary of PCA
summary(pca_result)

# Biplot of PCA
biplot(pca_result)
```

```{r}
library(missMDA)

# Perform PCA with missing data handling
pca_result <- pcaMissing(dfc, ncp = 5)  # ncp = number of principal components

# Print the results
print(pca_result)
```


```{r}
N <- nrow(dfc)
nr <- 0.1 * N
print(nr)
dfr <- sample_n(dfc, nr)
na_count <- sum(is.na(dfr))
print(na_count)
```

```{r}
impr <- mice(dfr, m = 3, maxit = 3)
```

```{r}
com <- complete(impr, 1)
na_count <- sum(is.na(com))
print(na_count)
```

```{r}
com <- na.omit(com)
com
na_count <- sum(is.na(com))
print(na_count)
```